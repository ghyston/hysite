@page
@model PreviewPageModel

<form method="post" enctype="multipart/form-data" >
    <div class="form-group">
        <div class="col-md-10">
            <label asp-for="UploadedFile" class="col-md-2 control-label"></label>
            <input asp-for="UploadedFile" type="file" accept = ".txt, .md"/>
        </div>
    </div>
    
    
    <div class="form-group">
        <div class="col-md-10">
            <input type="submit" value="Upload" asp-page-handler="UploadFile" />
        </div>
    </div>    

    @if (@Model.UploadError != "")
    {
        <p style="color: red">Error: @Model.UploadError</p>
    }
    <hr/>

</form>

@if (@Model.PostToPreview != null)
{
    <h2>@Html.Raw(@Model.PostToPreview.Title)</h2>
    <p style="font-size: 12px; color: gray;">@Html.Raw(@Model.PostToPreview.Created)</p>
    @Html.Raw(@Model.PostToPreview.HtmlContent)
    <hr />   
}